const _0x47c289=_0xc310;(function(_0x492685,_0x404033){const _0x571cd7=_0xc310,_0x10e751=_0x492685();while(!![]){try{const _0x57c6a6=-parseInt(_0x571cd7(0xaa))/0x1*(parseInt(_0x571cd7(0xf5))/0x2)+parseInt(_0x571cd7(0xbc))/0x3*(parseInt(_0x571cd7(0x114))/0x4)+parseInt(_0x571cd7(0xa9))/0x5*(-parseInt(_0x571cd7(0xd2))/0x6)+parseInt(_0x571cd7(0x11a))/0x7*(parseInt(_0x571cd7(0xfd))/0x8)+parseInt(_0x571cd7(0x91))/0x9*(-parseInt(_0x571cd7(0xd8))/0xa)+-parseInt(_0x571cd7(0xf2))/0xb+parseInt(_0x571cd7(0x95))/0xc*(parseInt(_0x571cd7(0x9d))/0xd);if(_0x57c6a6===_0x404033)break;else _0x10e751['push'](_0x10e751['shift']());}catch(_0x5333d8){_0x10e751['push'](_0x10e751['shift']());}}}(_0x57eb,0x5eaeb));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';function _0xc310(_0x54bf7c,_0x5019aa){const _0x57ebac=_0x57eb();return _0xc310=function(_0xc31075,_0x142d01){_0xc31075=_0xc31075-0x91;let _0xc742c0=_0x57ebac[_0xc31075];return _0xc742c0;},_0xc310(_0x54bf7c,_0x5019aa);}function _0x57eb(){const _0x454f56=['classList','ไม่สามารถเข้าร่วมได้\x20เกมเริ่มไปแล้ว','slice','toMillis','#game-code-input','เข้าร่วมสำเร็จ!\x20รอสักครู่...','เวลา:\x2000:00','div','AIzaSyAJsk4l8I8uCYpJY8jZLAlRW1w2qLWN-2o','data-theme','floor','tile','448648AQEmyA','players','startTime','hidden','contrast','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','87794BMJRqr','#other-rankings-container','finished','2043DlmNFO','#player-score-display','gameMode','game24-69666.firebasestorage.app','12ROmZPz','entries','ไม่พบห้องเกมนี้','เวลา:\x20','1:989271279576:web:43115bbaeeae31160954ad','forEach','textContent','#player-finished-view','18659563iELfFE','click','Error\x20joining\x20game:','ชื่อซ้ำ,\x20เปลี่ยนเป็น\x20','slot\x20empty','artifacts/','clamp(2.5rem,\x2010vw,\x204rem)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20คะแนน</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>','game24-69666','max','989271279576','151675wXNOvX','1uRNEDa','<span\x20style=\x22font-size:\x20','ลองอีกครั้ง!','querySelectorAll','status','Error\x20advancing\x20puzzle:','player-join','numQuestions','length','คะแนน:\x20','error','<i\x20class=\x22fas\x20fa-crown\x22></i>','game-over','join','exists','หารด้วยศูนย์ไม่ได้','currentPuzzle','2rem','6ackbHg','setAttribute','abs','addEventListener','#reset-btn','now','#player-home-btn','puzzles','querySelector','.op','/public/data/games','#home-btn','data','speed','stringify','map','trim','innerHTML','โหมดฝึกซ้อม','#start-practice-btn','#player-join-view','กรุณากรอกข้อมูลให้ครบถ้วน','90PGCsLH','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','G-B1ZTE90SGG','className','.finishTime','16610fnSHUb','player-wait','Firebase\x20init\x20failed:','#game-board','finishTime','#puzzle-progress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>','currentUser','update','toggle','ด่าน\x20','message','game','random','game24-default','#game-timer','remove','#player-name-input','ห้องเกมถูกปิดแล้ว','playing','lobby','filter','กรุณาเลือกตัวเลขก่อน','immediate','overall','\x20/\x20','6255799qhGSPs','.score','sort','68242USrBGG','from','show','padStart','add','การเชื่อมต่อล้มเหลว','podium-stand\x20podium-','</span>','104EJsyiH','players.','value','dataset','#game-view','#grid','sel','appendChild','documentElement','#podium-container','score'];_0x57eb=function(){return _0x454f56;};return _0x57eb();}import{getAuth,signInAnonymously,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,updateDoc,onSnapshot,serverTimestamp,runTransaction,deleteDoc,Timestamp,deleteField,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const defaultFirebaseConfig={'apiKey':_0x47c289(0x110),'authDomain':'game24-69666.firebaseapp.com','projectId':_0x47c289(0xa6),'storageBucket':_0x47c289(0x94),'messagingSenderId':_0x47c289(0xa8),'appId':_0x47c289(0x99),'measurementId':_0x47c289(0xd5)},firebaseConfig=defaultFirebaseConfig,appId=_0x47c289(0xe6),$=_0x5def8a=>document[_0x47c289(0xc4)](_0x5def8a),$$=_0x2b6268=>Array[_0x47c289(0xf6)](document[_0x47c289(0xad)](_0x2b6268)),playerJoinView=$(_0x47c289(0xd0)),playerWaitView=$('#player-wait-view'),gameView=$(_0x47c289(0x101)),gameOverView=$('#game-over-view'),grid=$(_0x47c289(0x102)),toastEl=$('#toast'),gameTimerEl=$(_0x47c289(0xe7)),puzzleProgressEl=$(_0x47c289(0xdd)),playerScoreDisplay=$(_0x47c289(0x92)),gameBoard=$(_0x47c289(0xdb)),playerFinishedView=$(_0x47c289(0x9c)),podiumContainer=$(_0x47c289(0x106)),otherRankingsList=$('#other-rankings-list'),otherRankingsContainer=$(_0x47c289(0x11b));let db,auth,userId,currentPlayerName,currentGameId=null,isPracticeMode=![],unsubscribeGameListener=null,timerInterval=null,localBoard=[null,null,null,null],currentPuzzleNumbers=[],firstIndex=null,selectedOp=null,gameSettings={'numQuestions':0x5,'timeLimit':0xb4,'timerMode':_0x47c289(0xf0),'scoringMode':_0x47c289(0xc9),'leaderboardMode':_0x47c289(0xef)};function toast(_0x2e6df8,_0x103033=0x7d0){const _0x31264c=_0x47c289;toastEl[_0x31264c(0x9b)]=_0x2e6df8,toastEl[_0x31264c(0x108)][_0x31264c(0xf9)](_0x31264c(0xf7)),setTimeout(()=>toastEl[_0x31264c(0x108)][_0x31264c(0xe8)](_0x31264c(0xf7)),_0x103033);}const rnd=(_0x15dde5,_0x3a4dfe)=>Math['floor'](Math[_0x47c289(0xe5)]()*(_0x3a4dfe-_0x15dde5+0x1))+_0x15dde5;function gcd(_0x406e5,_0x31dc37){return _0x31dc37===0x0?_0x406e5:gcd(_0x31dc37,_0x406e5%_0x31dc37);}const fmt=_0x1f9ae0=>{const _0x53a96b=_0x47c289;if(_0x1f9ae0['d']===0x1)return String(_0x1f9ae0['n']);const _0x1c0a6b=String(_0x1f9ae0['n'])[_0x53a96b(0xb2)]>0x2||String(_0x1f9ae0['d'])[_0x53a96b(0xb2)]>0x2?_0x53a96b(0xbb):_0x53a96b(0xa3);return _0x53a96b(0xab)+_0x1c0a6b+';\x22>'+_0x1f9ae0['n']+'/'+_0x1f9ae0['d']+_0x53a96b(0xfc);};function applyTheme(_0x4507c8){const _0x59feb3=_0x47c289;document[_0x59feb3(0x105)][_0x59feb3(0xbd)](_0x59feb3(0x111),_0x4507c8);}applyTheme(_0x47c289(0x118));function solve24(_0x4f956a){function _0x21a19e(_0x52163c){const _0x7963d9=_0xc310;if(_0x52163c[_0x7963d9(0xb2)]===0x1)return Math[_0x7963d9(0xbe)](_0x52163c[0x0]-0x18)<0.000001;for(let _0x1e919d=0x0;_0x1e919d<_0x52163c[_0x7963d9(0xb2)];_0x1e919d++){for(let _0x26b327=0x0;_0x26b327<_0x52163c[_0x7963d9(0xb2)];_0x26b327++){if(_0x1e919d===_0x26b327)continue;const _0x56c337=_0x52163c[_0x1e919d],_0x500198=_0x52163c[_0x26b327],_0x2955ba=_0x52163c[_0x7963d9(0xed)]((_0xd759fc,_0x34ef6c)=>_0x34ef6c!==_0x1e919d&&_0x34ef6c!==_0x26b327);if(_0x21a19e([_0x56c337+_0x500198,..._0x2955ba])||_0x21a19e([_0x56c337-_0x500198,..._0x2955ba])||_0x21a19e([_0x56c337*_0x500198,..._0x2955ba])||_0x500198!==0x0&&_0x21a19e([_0x56c337/_0x500198,..._0x2955ba]))return!![];}}return![];}return _0x21a19e(_0x4f956a);}function randomSolvable(){for(let _0x113a77=0x0;_0x113a77<0x1f4;_0x113a77++){const _0xacb657=[rnd(0x1,0x9),rnd(0x1,0x9),rnd(0x1,0x9),rnd(0x1,0x9)];if(solve24(_0xacb657))return _0xacb657;}return[0x1,0x2,0x3,0x4];}function showView(_0x1c014c){const _0x5cf9f9=_0x47c289;[playerJoinView,playerWaitView,gameView,gameOverView][_0x5cf9f9(0x9a)](_0x1c1cc5=>_0x1c1cc5[_0x5cf9f9(0x108)][_0x5cf9f9(0xf9)]('hidden'));if(_0x1c014c===_0x5cf9f9(0xb0))playerJoinView['classList']['remove'](_0x5cf9f9(0x117));else{if(_0x1c014c===_0x5cf9f9(0xd9))playerWaitView[_0x5cf9f9(0x108)][_0x5cf9f9(0xe8)]('hidden');else{if(_0x1c014c===_0x5cf9f9(0xe4))gameView['classList'][_0x5cf9f9(0xe8)]('hidden'),isPracticeMode&&($('#player-score-display')[_0x5cf9f9(0x108)][_0x5cf9f9(0xf9)]('hidden'),$(_0x5cf9f9(0xdd))[_0x5cf9f9(0x108)]['add']('hidden'),$(_0x5cf9f9(0xe7))[_0x5cf9f9(0x9b)]=_0x5cf9f9(0xce));else{if(_0x1c014c==='game-over')gameOverView[_0x5cf9f9(0x108)][_0x5cf9f9(0xe8)](_0x5cf9f9(0x117));}}}}async function initialize(){const _0x1810ec=_0x47c289;try{const _0x4fde36=initializeApp(firebaseConfig);db=getFirestore(_0x4fde36),auth=getAuth(_0x4fde36),onAuthStateChanged(auth,async _0x2e5cdd=>{const _0x1fb21f=_0xc310;if(!_0x2e5cdd)await signInAnonymously(auth);userId=auth[_0x1fb21f(0xdf)]['uid'];});}catch(_0x376f41){console[_0x1810ec(0xb4)](_0x1810ec(0xda),_0x376f41),toast(_0x1810ec(0xfa));}}async function handleJoinGame(){const _0x44ec4e=_0x47c289,_0x20b281=$(_0x44ec4e(0x10c))[_0x44ec4e(0xff)],_0x3bf04d=$(_0x44ec4e(0xe9))['value'][_0x44ec4e(0xcc)]();if(!_0x20b281||!_0x3bf04d)return toast(_0x44ec4e(0xd1));currentGameId=_0x20b281,currentPlayerName=_0x3bf04d;const _0x24986a=doc(db,_0x44ec4e(0xa2)+appId+_0x44ec4e(0xc6),currentGameId);try{await runTransaction(db,async _0x59abab=>{const _0x5c3212=_0x44ec4e,_0x40db19=await _0x59abab['get'](_0x24986a);if(!_0x40db19[_0x5c3212(0xb8)]())throw new Error(_0x5c3212(0x97));const _0x5c1e8c=_0x40db19[_0x5c3212(0xc8)]();if(_0x5c1e8c[_0x5c3212(0xae)]!==_0x5c3212(0xec))throw new Error(_0x5c3212(0x109));let _0x547f4a=_0x3bf04d;_0x5c1e8c['players'][_0x547f4a]&&(_0x547f4a=''+_0x3bf04d+rnd(0xa,0x63),toast(_0x5c3212(0xa0)+_0x547f4a+'\x20แทน')),currentPlayerName=_0x547f4a,_0x59abab[_0x5c3212(0xe0)](_0x24986a,{['players.'+_0x547f4a]:{'joined':!![]}});}),toast(_0x44ec4e(0x10d)),listenForGameUpdates(currentGameId);}catch(_0x4bab27){console['error'](_0x44ec4e(0x9f),_0x4bab27),toast(_0x4bab27[_0x44ec4e(0xe3)]);}}function startPracticeMode(){const _0x273894=_0x47c289;isPracticeMode=!![],currentPuzzleNumbers=randomSolvable(),resetLocalBoard(),showView(_0x273894(0xe4));}function listenForGameUpdates(_0x595a12){const _0x20913a=_0x47c289;if(unsubscribeGameListener)unsubscribeGameListener();const _0x133e9e=doc(db,_0x20913a(0xa2)+appId+_0x20913a(0xc6),_0x595a12);unsubscribeGameListener=onSnapshot(_0x133e9e,_0xe3febd=>{const _0x21131c=_0x20913a;if(!_0xe3febd[_0x21131c(0xb8)]()){toast(_0x21131c(0xea));if(unsubscribeGameListener)unsubscribeGameListener();if(timerInterval)clearInterval(timerInterval);showView(_0x21131c(0xb0));return;}const _0x1c6a01=_0xe3febd[_0x21131c(0xc8)](),_0x2b366c=_0x1c6a01[_0x21131c(0xae)];if(_0x2b366c==='lobby'){if(timerInterval)clearInterval(timerInterval);showView(_0x21131c(0xd9));}else{if(_0x2b366c===_0x21131c(0xeb))showView(_0x21131c(0xe4)),renderPlayingView(_0x1c6a01);else{if(_0x2b366c===_0x21131c(0x11c)){if(timerInterval)clearInterval(timerInterval);renderGameOverView(_0x1c6a01);}}}});}function startOrUpdateTimer(_0x10f26b){const _0x1ef54c=_0x47c289;if(timerInterval)clearInterval(timerInterval);const _0x552bcb=_0x10f26b['gameMode']||gameSettings,_0x39f583=_0x10f26b['startTime'][_0x1ef54c(0x10b)]();timerInterval=setInterval(()=>{const _0x5a970d=_0x1ef54c,_0x5bf138=Math[_0x5a970d(0x112)]((Date[_0x5a970d(0xc1)]()-_0x39f583)/0x3e8),_0x5a81ae=_0x552bcb['timeLimit']-_0x5bf138;if(_0x5a81ae<=0x0)clearInterval(timerInterval),gameTimerEl[_0x5a970d(0x9b)]=_0x5a970d(0x10e);else{const _0x2ced98=String(Math[_0x5a970d(0x112)](_0x5a81ae/0x3c))[_0x5a970d(0xf8)](0x2,'0'),_0x4b2b99=String(_0x5a81ae%0x3c)[_0x5a970d(0xf8)](0x2,'0');gameTimerEl[_0x5a970d(0x9b)]=_0x5a970d(0x98)+_0x2ced98+':'+_0x4b2b99;}},0x1f4);}function renderPlayingView(_0x1c6f70){startOrUpdateTimer(_0x1c6f70),renderPlayerGameView(_0x1c6f70);}function renderPlayerGameView(_0x4d44e0){const _0x319c36=_0x47c289,_0x4086d6=_0x4d44e0[_0x319c36(0x115)][currentPlayerName];if(!_0x4086d6)return;playerScoreDisplay['textContent']=_0x319c36(0xb3)+(_0x4086d6[_0x319c36(0x107)]||0x0),playerScoreDisplay[_0x319c36(0x108)][_0x319c36(0xe8)](_0x319c36(0x117));if(_0x4086d6[_0x319c36(0xba)]>=_0x4d44e0[_0x319c36(0x93)][_0x319c36(0xb1)])gameBoard[_0x319c36(0x108)]['add'](_0x319c36(0x117)),playerFinishedView[_0x319c36(0x108)][_0x319c36(0xe8)](_0x319c36(0x117));else{gameBoard['classList'][_0x319c36(0xe8)](_0x319c36(0x117)),playerFinishedView[_0x319c36(0x108)][_0x319c36(0xf9)](_0x319c36(0x117)),puzzleProgressEl[_0x319c36(0x9b)]=_0x319c36(0xe2)+(_0x4086d6[_0x319c36(0xba)]+0x1)+_0x319c36(0xf1)+_0x4d44e0[_0x319c36(0x93)]['numQuestions'],puzzleProgressEl['classList'][_0x319c36(0xe8)]('hidden');const _0x140b73=JSON['parse'](_0x4d44e0[_0x319c36(0xc3)]),_0x352c36=_0x140b73[_0x4086d6['currentPuzzle']];JSON[_0x319c36(0xca)](currentPuzzleNumbers)!==JSON[_0x319c36(0xca)](_0x352c36)&&(currentPuzzleNumbers=[..._0x352c36],resetLocalBoard());}}function renderGameOverView(_0x18b392){const _0x3a0975=_0x47c289,_0x38fd66=_0x18b392[_0x3a0975(0x115)]||{},_0x4621e2=Object[_0x3a0975(0x96)](_0x38fd66)[_0x3a0975(0xf4)](([,_0x37a46f],[,_0x11654a])=>{const _0x8dc8f5=_0x3a0975;if(_0x37a46f[_0x8dc8f5(0x107)]!==_0x11654a['score'])return(_0x11654a[_0x8dc8f5(0x107)]||0x0)-(_0x37a46f[_0x8dc8f5(0x107)]||0x0);if(_0x11654a[_0x8dc8f5(0xdc)]&&_0x37a46f['finishTime'])return _0x37a46f[_0x8dc8f5(0xdc)][_0x8dc8f5(0x10b)]()-_0x11654a[_0x8dc8f5(0xdc)][_0x8dc8f5(0x10b)]();if(_0x11654a[_0x8dc8f5(0xdc)])return-0x1;if(_0x37a46f[_0x8dc8f5(0xdc)])return 0x1;return 0x0;});podiumContainer['innerHTML']='',otherRankingsList['innerHTML']='';const _0x11e6f6=_0x4621e2[_0x3a0975(0x10a)](0x0,0x3),_0x4c0cc6=_0x4621e2[_0x3a0975(0x10a)](0x3);_0x11e6f6[_0x3a0975(0x9a)](([_0x227c71,_0x4a963a],_0x25c867)=>{const _0x57546d=_0x3a0975,_0x3c5f83=_0x25c867+0x1,_0x17fce4=document[_0x57546d(0xd3)](_0x57546d(0x10f));_0x17fce4[_0x57546d(0xd6)]=_0x57546d(0xfb)+_0x3c5f83,_0x17fce4['innerHTML']=_0x57546d(0xd4)+(_0x3c5f83===0x1?_0x57546d(0xb5):'')+_0x57546d(0xde)+_0x227c71+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-score\x22>'+(_0x4a963a[_0x57546d(0x107)]||0x0)+_0x57546d(0xa5)+_0x3c5f83+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',podiumContainer[_0x57546d(0x104)](_0x17fce4);});for(let _0x4acd40=_0x4621e2[_0x3a0975(0xb2)];_0x4acd40<0x3;_0x4acd40++){const _0x969951=_0x4acd40+0x1,_0x423214=document['createElement'](_0x3a0975(0x10f));_0x423214[_0x3a0975(0xd6)]=_0x3a0975(0xfb)+_0x969951,podiumContainer[_0x3a0975(0x104)](_0x423214);}_0x4c0cc6[_0x3a0975(0xb2)]>0x0?(otherRankingsContainer['classList']['remove']('hidden'),otherRankingsList[_0x3a0975(0xcd)]=_0x4c0cc6[_0x3a0975(0xcb)](([_0x26abb8,_0x2fbfac],_0xcbc757)=>_0x3a0975(0x119)+(_0xcbc757+0x4)+'.\x20'+_0x26abb8+_0x3a0975(0xa4)+(_0x2fbfac[_0x3a0975(0x107)]||0x0)+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3a0975(0xb7)]('')):otherRankingsContainer[_0x3a0975(0x108)][_0x3a0975(0xf9)]('hidden'),showView(_0x3a0975(0xb6));}function renderLocalGrid(){const _0x1757dd=_0x47c289;grid[_0x1757dd(0xcd)]='',grid[_0x1757dd(0x108)]['toggle']('number-selected',firstIndex!==null);for(let _0x30dc14=0x0;_0x30dc14<0x4;_0x30dc14++){const _0x44a676=localBoard[_0x30dc14],_0x2a9a30=document[_0x1757dd(0xd3)](_0x1757dd(0x10f));_0x44a676===null?_0x2a9a30['className']=_0x1757dd(0xa1):(_0x2a9a30[_0x1757dd(0xd6)]=_0x1757dd(0x113)+(_0x30dc14===firstIndex?'\x20sel':''),_0x2a9a30['innerHTML']=fmt(_0x44a676),_0x2a9a30[_0x1757dd(0xbf)]('click',()=>handleTileClick(_0x30dc14))),grid[_0x1757dd(0x104)](_0x2a9a30);}$$('.op')['forEach'](_0x97217c=>_0x97217c[_0x1757dd(0x108)][_0x1757dd(0xe1)](_0x1757dd(0x103),_0x97217c[_0x1757dd(0x100)]['op']===selectedOp));}function resetLocalBoard(){const _0xe56afb=_0x47c289;localBoard=currentPuzzleNumbers[_0xe56afb(0xcb)](_0x3e1aed=>({'n':_0x3e1aed,'d':0x1})),firstIndex=null,selectedOp=null,renderLocalGrid();}async function handleTileClick(_0x28c345){const _0x37fd2f=_0x47c289;if(localBoard[_0x28c345]===null)return;if(firstIndex===_0x28c345){firstIndex=null,renderLocalGrid();return;}if(firstIndex===null||selectedOp===null){firstIndex=_0x28c345,renderLocalGrid();return;}const _0x2eaf05=localBoard[firstIndex],_0xd0779=localBoard[_0x28c345];let _0x496cfc,_0x458ee7;if(selectedOp==='+')_0x496cfc=_0x2eaf05['n']*_0xd0779['d']+_0xd0779['n']*_0x2eaf05['d'],_0x458ee7=_0x2eaf05['d']*_0xd0779['d'];else{if(selectedOp==='-')_0x496cfc=_0x2eaf05['n']*_0xd0779['d']-_0xd0779['n']*_0x2eaf05['d'],_0x458ee7=_0x2eaf05['d']*_0xd0779['d'];else{if(selectedOp==='*')_0x496cfc=_0x2eaf05['n']*_0xd0779['n'],_0x458ee7=_0x2eaf05['d']*_0xd0779['d'];else{if(selectedOp==='/'){if(_0xd0779['n']===0x0){toast(_0x37fd2f(0xb9));return;}_0x496cfc=_0x2eaf05['n']*_0xd0779['d'],_0x458ee7=_0x2eaf05['d']*_0xd0779['n'];}}}}_0x458ee7<0x0&&(_0x458ee7=-_0x458ee7,_0x496cfc=-_0x496cfc);const _0x453c24=gcd(Math[_0x37fd2f(0xbe)](_0x496cfc),Math[_0x37fd2f(0xbe)](_0x458ee7)),_0x4aca4e={'n':_0x496cfc/_0x453c24,'d':_0x458ee7/_0x453c24};localBoard[_0x28c345]=_0x4aca4e,localBoard[firstIndex]=null,firstIndex=_0x28c345,selectedOp=null,renderLocalGrid();const _0x21705c=localBoard[_0x37fd2f(0xed)](_0x1013aa=>_0x1013aa!==null);if(_0x21705c[_0x37fd2f(0xb2)]===0x1){const _0x208b58=_0x21705c[0x0];if(_0x208b58['d']===0x1&&_0x208b58['n']===0x18){if(isPracticeMode){toast('ถูกต้อง!\x20โจทย์ข้อต่อไป...'),setTimeout(()=>{currentPuzzleNumbers=randomSolvable(),resetLocalBoard();},0x4b0);return;}const _0x5cc517=doc(db,_0x37fd2f(0xa2)+appId+'/public/data/games',currentGameId);try{await runTransaction(db,async _0x247c08=>{const _0x5bec66=_0x37fd2f,_0x441590=await _0x247c08['get'](_0x5cc517);if(!_0x441590[_0x5bec66(0xb8)]()||_0x441590[_0x5bec66(0xc8)]()[_0x5bec66(0xae)]!==_0x5bec66(0xeb))return;const _0x5a0d83=_0x441590[_0x5bec66(0xc8)](),_0x3c640a=_0x5a0d83[_0x5bec66(0x115)][currentPlayerName],_0x2cfa8a=_0x5a0d83[_0x5bec66(0x93)],_0x4fa2e4=_0x5a0d83[_0x5bec66(0x116)][_0x5bec66(0x10b)](),_0x34c6bb=Math[_0x5bec66(0x112)]((Date[_0x5bec66(0xc1)]()-_0x4fa2e4)/0x3e8),_0xb0d98=0x64+Math[_0x5bec66(0xa7)](0x0,_0x2cfa8a['timeLimit']-_0x34c6bb),_0x50a600=_0x3c640a[_0x5bec66(0xba)]+0x1,_0x358222={[_0x5bec66(0xfe)+currentPlayerName+'.currentPuzzle']:_0x50a600,[_0x5bec66(0xfe)+currentPlayerName+_0x5bec66(0xf3)]:increment(_0xb0d98)};_0x50a600>=_0x2cfa8a[_0x5bec66(0xb1)]&&(_0x358222[_0x5bec66(0xfe)+currentPlayerName+_0x5bec66(0xd7)]=serverTimestamp()),_0x247c08[_0x5bec66(0xe0)](_0x5cc517,_0x358222);});}catch(_0x478d91){console[_0x37fd2f(0xb4)](_0x37fd2f(0xaf),_0x478d91);}}else toast(_0x37fd2f(0xac)),setTimeout(resetLocalBoard,0x5dc);}}$('#join-game-btn')['addEventListener']('click',handleJoinGame),$(_0x47c289(0xcf))['addEventListener']('click',startPracticeMode);function goHome(){const _0x59c65f=_0x47c289;isPracticeMode=![];if(unsubscribeGameListener)unsubscribeGameListener();if(timerInterval)clearInterval(timerInterval);currentGameId=null,currentPlayerName=null,showView(_0x59c65f(0xb0));}$(_0x47c289(0xc7))[_0x47c289(0xbf)]('click',goHome),$(_0x47c289(0xc2))['addEventListener'](_0x47c289(0x9e),goHome),$(_0x47c289(0xc0))[_0x47c289(0xbf)](_0x47c289(0x9e),resetLocalBoard),$$(_0x47c289(0xc5))['forEach'](_0x1266b6=>_0x1266b6['addEventListener'](_0x47c289(0x9e),()=>{const _0x1e697f=_0x47c289,_0x2a2cf8=_0x1266b6['dataset']['op'];if(selectedOp===_0x2a2cf8)selectedOp=null;else{if(firstIndex===null){toast(_0x1e697f(0xee));return;}selectedOp=_0x2a2cf8;}renderLocalGrid();})),initialize(),showView(_0x47c289(0xb0));