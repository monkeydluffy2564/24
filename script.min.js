function _0x130d(){const _0x3c3a66=['body','admin-settings','#reset-btn','podium-stand\x20podium-','.finishTime','</div>','game-over','random','#player-join-view','sel','appendChild','เวลาข้อนี้:\x20','2112852RNyNvv','timerMode','#player-name-input','currentPuzzle','uid','44520yIRyHY','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-progress\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Game\x20does\x20not\x20exist!','#player-wait-view','.currentPuzzle','#themeSelect','161843pSjlpx','2rem','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','8899','fas\x20fa-eye','#open-settings-btn','startTime','log','click','justifyContent','#lobby-player-count','กรุณาเลือกตัวเลขก่อน','#admin-login-btn','\x20sel','#player-score-display','#lobby-player-name-list','#admin-back-btn','166758mCzziI','dataset','#end-game-btn','player-join','fas\x20fa-eye-slash','รหัสผ่านไม่ถูกต้อง','#admin-password-input','.op','g24_theme_mp','error','#other-rankings-list','className','puzzles','การเชื่อมต่อล้มเหลว','เวลา:\x20','keys','querySelectorAll','overall','admin-login','innerHTML','#player-finished-view\x20p','44WeXQpz','แอดมินได้สร้างห้องใหม่แล้ว','หมดเวลา!','game24-default','#game-timer','setItem','<div\x20class=\x22tile\x22>','#back-to-lobby-btn','beforeunload','#start-game-btn',')\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hidden','เกิดข้อผิดพลาดในการเริ่มเกม','#admin-login-modal','floor','apiKey','ไม่สามารถเข้าร่วมได้\x20เกมเริ่มไปแล้ว','player-wait','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#podium-container','Error\x20returning\x20to\x20lobby:','แสดงผลด่าน\x20','value','สำเร็จ','game','setAttribute','speed','...','map','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-score\x22>','querySelector','#toast','#join-game-btn','กรุณากรอกข้อมูลให้ครบถ้วน','createElement','toString','wait','เข้าร่วมสำเร็จ!\x20รอสักครู่...','scoringMode','#game-over-view','timeLimit','data-theme','finished','get','forEach','ชื่อซ้ำ,\x20เปลี่ยนเป็น\x20','#grid','.puzzleStartTime','padStart','update','slice','#time-limit-input','หมดเวลาสำหรับข้อนี้!','AIzaSyAJsk4l8I8uCYpJY8jZLAlRW1w2qLWN-2o','#game-code-input','#admin-lobby-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','textContent','#admin-icon-btn','exists','game24-69666.firebaseapp.com','from','toggle','parse','lobby','8tcvbCv','#player-finished-view\x20h2','tile','artifacts/','หารด้วยศูนย์ไม่ได้','13843116klujMZ','Error\x20advancing\x20puzzle:','number-selected','data','score',';\x22>','div','gameMode','undefined','add','center','finishTime','#host-controls','join','input[name=\x22leaderboardMode\x22]:checked','G-B1ZTE90SGG','sort','collapsed','เวลา:\x2000:00','players','#admin-settings-modal','remove','playing','admin-view','ห้องเกมถูกปิดแล้ว','#home-btn','1158682qgHhZk','\x20คะแนน</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>','#player-finished-view','puzzleStartTime','message','toMillis','คะแนน:\x20','admin-lobby','Error\x20joining\x20game:','players.','style','โหมดฝึกซ้อม','Firebase\x20config\x20is\x20missing.\x20App\x20cannot\x20start.','ไม่พบห้องเกมนี้','Authenticated\x20user:','#puzzle-progress','#game-code-display','change','addEventListener','#game-view','<div\x20class=\x22lobby-player-tag\x22>','#toggle-leaderboard-btn','numQuestions','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-name\x22>','เสร็จสิ้น!','.main-game','max','game24-69666','currentUser','leaderboardMode','status','ด่าน\x20','filter','player-view','\x20แทน','รอผลการแข่งขันสักครู่...','contains','ถูกต้อง!\x20โจทย์ข้อต่อไป...','length','Firebase\x20init\x20failed:','.sidebar','values','stringify','game24-69666.firebasestorage.app','521266vsecfj','immediate','/public/data/games','now','show'];_0x130d=function(){return _0x3c3a66;};return _0x130d();}const _0x52499d=_0x2a6e;(function(_0x1139f5,_0x4b908f){const _0x3eb776=_0x2a6e,_0x524f62=_0x1139f5();while(!![]){try{const _0x9fde25=parseInt(_0x3eb776(0x198))/0x1+-parseInt(_0x3eb776(0x17c))/0x2+parseInt(_0x3eb776(0x1a9))/0x3*(-parseInt(_0x3eb776(0x1be))/0x4)+parseInt(_0x3eb776(0x192))/0x5+-parseInt(_0x3eb776(0x18d))/0x6+-parseInt(_0x3eb776(0x14f))/0x7*(parseInt(_0x3eb776(0x130))/0x8)+parseInt(_0x3eb776(0x135))/0x9;if(_0x9fde25===_0x4b908f)break;else _0x524f62['push'](_0x524f62['shift']());}catch(_0x140862){_0x524f62['push'](_0x524f62['shift']());}}}(_0x130d,0x4de94));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,signInWithCustomToken,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,updateDoc,onSnapshot,serverTimestamp,runTransaction,deleteDoc,Timestamp,deleteField,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const defaultFirebaseConfig={'apiKey':_0x52499d(0x123),'authDomain':_0x52499d(0x12b),'projectId':_0x52499d(0x16b),'storageBucket':_0x52499d(0x17b),'messagingSenderId':'989271279576','appId':'1:989271279576:web:43115bbaeeae31160954ad','measurementId':_0x52499d(0x144)},appId=typeof __app_id!==_0x52499d(0x13d)?__app_id:_0x52499d(0x1c1),firebaseConfig=typeof __firebase_config!==_0x52499d(0x13d)?JSON[_0x52499d(0x12e)](__firebase_config):defaultFirebaseConfig,$=_0x2a1ebf=>document[_0x52499d(0x10c)](_0x2a1ebf),$$=_0x342b63=>Array[_0x52499d(0x12c)](document[_0x52499d(0x1b9)](_0x342b63)),playerJoinView=$(_0x52499d(0x189)),playerWaitView=$(_0x52499d(0x195)),adminLobbyView=$(_0x52499d(0x125)),gameView=$(_0x52499d(0x162)),adminLoginModal=$(_0x52499d(0xfa)),adminSettingsModal=$(_0x52499d(0x149)),gameOverView=$(_0x52499d(0x115)),grid=$(_0x52499d(0x11c)),playerList=$('#player-list'),lobbyPlayerNameList=$(_0x52499d(0x1a7)),lobbyPlayerCount=$(_0x52499d(0x1a2)),hostControls=$(_0x52499d(0x141)),toastEl=$(_0x52499d(0x10d)),gameCodeDisplay=$(_0x52499d(0x15f)),gameTimerEl=$(_0x52499d(0xf1)),puzzleProgressEl=$(_0x52499d(0x15e)),playerScoreDisplay=$('#player-score-display'),gameBoard=$('#game-board'),playerFinishedView=$(_0x52499d(0x151)),podiumContainer=$(_0x52499d(0x101)),otherRankingsList=$(_0x52499d(0x1b3)),otherRankingsContainer=$('#other-rankings-container'),toggleLeaderboardBtn=$(_0x52499d(0x164));let db,auth,userId,currentPlayerName,isHost=![],currentGameId=null,isPracticeMode=![],unsubscribeGameListener=null,timerInterval=null,localBoard=[null,null,null,null],currentPuzzleNumbers=[],firstIndex=null,selectedOp=null,adminDisplayedPuzzleIndex=0x0,previousGameStatus=null,gameSettings={'numQuestions':0xa,'timeLimit':0xb4,'timerMode':_0x52499d(0x1ba),'scoringMode':'speed','leaderboardMode':'immediate'};function toast(_0x212d87,_0x54d769=0x7d0){const _0x1c39ec=_0x52499d;toastEl[_0x1c39ec(0x128)]=_0x212d87,toastEl[_0x1c39ec(0x127)]['add'](_0x1c39ec(0x180)),setTimeout(()=>toastEl[_0x1c39ec(0x127)][_0x1c39ec(0x14a)]('show'),_0x54d769);}const rnd=(_0x25b6fc,_0x2aec91)=>Math[_0x52499d(0xfb)](Math[_0x52499d(0x188)]()*(_0x2aec91-_0x25b6fc+0x1))+_0x25b6fc;function gcd(_0x3ea352,_0xb9287e){return _0xb9287e===0x0?_0x3ea352:gcd(_0xb9287e,_0x3ea352%_0xb9287e);}const fmt=_0x34ca70=>{const _0x466c07=_0x52499d;if(_0x34ca70['d']===0x1)return String(_0x34ca70['n']);const _0x207fc6=String(_0x34ca70['n'])[_0x466c07(0x176)]>0x2||String(_0x34ca70['d'])['length']>0x2?_0x466c07(0x199):'clamp(2.5rem,\x2010vw,\x204rem)';return'<span\x20style=\x22font-size:\x20'+_0x207fc6+_0x466c07(0x13a)+_0x34ca70['n']+'/'+_0x34ca70['d']+'</span>';},themeKey=_0x52499d(0x1b1),themeSelect=$(_0x52499d(0x197));function applyTheme(_0xe06dae){const _0x4b7a1e=_0x52499d;document['documentElement'][_0x4b7a1e(0x107)](_0x4b7a1e(0x117),_0xe06dae),localStorage[_0x4b7a1e(0xf2)](themeKey,_0xe06dae);}const savedTheme=localStorage['getItem'](themeKey),initialTheme=savedTheme||'contrast';applyTheme(initialTheme);themeSelect&&(themeSelect['value']=initialTheme,themeSelect['addEventListener'](_0x52499d(0x160),()=>applyTheme(themeSelect[_0x52499d(0x104)])));function solve24(_0x5b8d05){function _0x2ddfcd(_0x55f0e5){const _0x3cad6b=_0x2a6e;if(_0x55f0e5[_0x3cad6b(0x176)]===0x1)return Math['abs'](_0x55f0e5[0x0]-0x18)<0.000001;for(let _0x4dd3f7=0x0;_0x4dd3f7<_0x55f0e5[_0x3cad6b(0x176)];_0x4dd3f7++){for(let _0x1304c6=0x0;_0x1304c6<_0x55f0e5[_0x3cad6b(0x176)];_0x1304c6++){if(_0x4dd3f7===_0x1304c6)continue;const _0x59e914=_0x55f0e5[_0x4dd3f7],_0x4fd300=_0x55f0e5[_0x1304c6],_0x2f3335=_0x55f0e5[_0x3cad6b(0x170)]((_0x5a2f33,_0x32bb0c)=>_0x32bb0c!==_0x4dd3f7&&_0x32bb0c!==_0x1304c6);if(_0x2ddfcd([_0x59e914+_0x4fd300,..._0x2f3335])||_0x2ddfcd([_0x59e914-_0x4fd300,..._0x2f3335])||_0x2ddfcd([_0x59e914*_0x4fd300,..._0x2f3335])||_0x4fd300!==0x0&&_0x2ddfcd([_0x59e914/_0x4fd300,..._0x2f3335]))return!![];}}return![];}return _0x2ddfcd(_0x5b8d05);}function randomSolvable(){for(let _0x4c5a4f=0x0;_0x4c5a4f<0x1f4;_0x4c5a4f++){const _0x4b99e7=[rnd(0x1,0x9),rnd(0x1,0x9),rnd(0x1,0x9),rnd(0x1,0x9)];if(solve24(_0x4b99e7))return _0x4b99e7;}return[0x1,0x2,0x3,0x4];}function showView(_0x593e80){const _0x45d6db=_0x52499d;[playerJoinView,playerWaitView,adminLoginModal,adminLobbyView,adminSettingsModal,gameView,gameOverView][_0x45d6db(0x11a)](_0x5a8adc=>_0x5a8adc[_0x45d6db(0x127)]['add'](_0x45d6db(0xf8)));const _0x3adadf=$(_0x45d6db(0x129));if(_0x593e80==='player-join'||_0x593e80===_0x45d6db(0x1bb))_0x3adadf[_0x45d6db(0x127)][_0x45d6db(0x14a)]('hidden');else isHost?_0x3adadf[_0x45d6db(0x127)][_0x45d6db(0x14a)](_0x45d6db(0xf8)):_0x3adadf['classList']['add'](_0x45d6db(0xf8));if(_0x593e80===_0x45d6db(0x1ac))playerJoinView[_0x45d6db(0x127)]['remove'](_0x45d6db(0xf8));else{if(_0x593e80===_0x45d6db(0xfe))playerWaitView['classList'][_0x45d6db(0x14a)](_0x45d6db(0xf8));else{if(_0x593e80===_0x45d6db(0x1bb))adminLoginModal[_0x45d6db(0x127)][_0x45d6db(0x14a)]('hidden');else{if(_0x593e80==='admin-lobby')adminLobbyView['classList'][_0x45d6db(0x14a)](_0x45d6db(0xf8));else{if(_0x593e80===_0x45d6db(0x182))adminSettingsModal[_0x45d6db(0x127)][_0x45d6db(0x14a)](_0x45d6db(0xf8));else{if(_0x593e80===_0x45d6db(0x106))gameView[_0x45d6db(0x127)][_0x45d6db(0x14a)](_0x45d6db(0xf8)),isPracticeMode?($(_0x45d6db(0x178))[_0x45d6db(0x127)]['add'](_0x45d6db(0xf8)),document['body']['classList']['add']('player-view'),document[_0x45d6db(0x181)][_0x45d6db(0x127)]['remove'](_0x45d6db(0x14c)),$(_0x45d6db(0x1a6))[_0x45d6db(0x127)][_0x45d6db(0x13e)]('hidden'),$(_0x45d6db(0x15e))[_0x45d6db(0x127)][_0x45d6db(0x13e)](_0x45d6db(0xf8)),$(_0x45d6db(0xf1))[_0x45d6db(0x128)]=_0x45d6db(0x15a),$(_0x45d6db(0x169))[_0x45d6db(0x159)][_0x45d6db(0x1a1)]=_0x45d6db(0x13f)):($('.sidebar')['classList'][_0x45d6db(0x14a)](_0x45d6db(0xf8)),$(_0x45d6db(0x169))[_0x45d6db(0x159)]['justifyContent']='');else{if(_0x593e80===_0x45d6db(0x187))gameOverView[_0x45d6db(0x127)][_0x45d6db(0x14a)](_0x45d6db(0xf8));}}}}}}}async function initialize(){const _0x211be5=_0x52499d;try{if(!firebaseConfig[_0x211be5(0xfc)]){toast('Firebase\x20configuration\x20is\x20missing.'),console['error'](_0x211be5(0x15b));return;}const _0x15b3b3=initializeApp(firebaseConfig);db=getFirestore(_0x15b3b3),auth=getAuth(_0x15b3b3),onAuthStateChanged(auth,async _0x2bc823=>{const _0x3e8839=_0x211be5;if(_0x2bc823)userId=_0x2bc823[_0x3e8839(0x191)],console[_0x3e8839(0x19f)](_0x3e8839(0x15d),userId);else try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x324834){console[_0x3e8839(0x1b2)]('Authentication\x20failed:',_0x324834),toast('Authentication\x20failed.\x20Please\x20refresh.');}});}catch(_0x2f970a){console[_0x211be5(0x1b2)](_0x211be5(0x177),_0x2f970a),toast(_0x211be5(0x1b6));}}async function createGameRoom(){const _0x4418a5=_0x52499d;showView(_0x4418a5(0x156)),gameCodeDisplay[_0x4418a5(0x128)]=_0x4418a5(0x109);const _0x5ad64b=rnd(0xa,0x63)[_0x4418a5(0x111)]();currentGameId=_0x5ad64b;const _0x44d2fe={'hostId':auth[_0x4418a5(0x16c)][_0x4418a5(0x191)],'status':'lobby','players':{},'createdAt':serverTimestamp()},_0x280ba8=doc(db,_0x4418a5(0x133)+appId+_0x4418a5(0x17e),currentGameId);await setDoc(_0x280ba8,_0x44d2fe),gameCodeDisplay[_0x4418a5(0x128)]=currentGameId,listenForGameUpdates(currentGameId);}async function handleStartGame(){const _0x28d461=_0x52499d;if(!isHost||!currentGameId)return;const _0x50d37e=parseInt($(_0x28d461(0x121))[_0x28d461(0x104)],0xa)||0xb4,_0x12f988=document[_0x28d461(0x10c)](_0x28d461(0x143))[_0x28d461(0x104)];gameSettings[_0x28d461(0x116)]=_0x50d37e,gameSettings[_0x28d461(0x16d)]=_0x12f988,adminSettingsModal[_0x28d461(0x127)]['add']('hidden');const _0x4d3b8d=doc(db,_0x28d461(0x133)+appId+_0x28d461(0x17e),currentGameId);try{await runTransaction(db,async _0x41466f=>{const _0x33381e=_0x28d461,_0x26c910=await _0x41466f[_0x33381e(0x119)](_0x4d3b8d);if(!_0x26c910[_0x33381e(0x12a)]())throw _0x33381e(0x194);const _0x27f18=_0x26c910[_0x33381e(0x138)]()['players'],_0x203967=Array[_0x33381e(0x12c)]({'length':gameSettings[_0x33381e(0x165)]},()=>randomSolvable()),_0x56cb15={'status':_0x33381e(0x14b),'puzzles':JSON[_0x33381e(0x17a)](_0x203967),'startTime':serverTimestamp(),'gameMode':gameSettings};for(const _0x4722ef in _0x27f18){_0x56cb15[_0x33381e(0x158)+_0x4722ef+_0x33381e(0x196)]=0x0,_0x56cb15[_0x33381e(0x158)+_0x4722ef+'.score']=0x0,_0x56cb15[_0x33381e(0x158)+_0x4722ef+_0x33381e(0x185)]=null,_0x56cb15[_0x33381e(0x158)+_0x4722ef+_0x33381e(0x11d)]=serverTimestamp();}_0x41466f[_0x33381e(0x11f)](_0x4d3b8d,_0x56cb15);}),showView(_0x28d461(0x106));}catch(_0x45f924){console[_0x28d461(0x1b2)]('Error\x20starting\x20game:',_0x45f924),toast(_0x28d461(0xf9));}}async function forceEndGame(){const _0x1e0862=_0x52499d;if(!isHost||!currentGameId)return;const _0x59f0a=doc(db,_0x1e0862(0x133)+appId+'/public/data/games',currentGameId),_0x15fb0b=await getDoc(_0x59f0a);_0x15fb0b[_0x1e0862(0x12a)]()&&_0x15fb0b[_0x1e0862(0x138)]()[_0x1e0862(0x16e)]===_0x1e0862(0x14b)&&await updateDoc(_0x59f0a,{'status':_0x1e0862(0x118)});}async function returnToLobby(){const _0x28552b=_0x52499d;if(!isHost||!currentGameId)return;const _0x2199e4=doc(db,_0x28552b(0x133)+appId+'/public/data/games',currentGameId);try{await updateDoc(_0x2199e4,{'status':'lobby','players':{},'puzzles':deleteField(),'startTime':deleteField(),'gameMode':deleteField()}),showView(_0x28552b(0x156));}catch(_0x4c67cf){console[_0x28552b(0x1b2)](_0x28552b(0x102),_0x4c67cf),toast('เกิดข้อผิดพลาดในการกลับสู่ล็อบบี้');}}async function handleJoinGame(){const _0x4bba76=_0x52499d,_0xb761f2=$(_0x4bba76(0x124))['value'],_0x443396=$(_0x4bba76(0x18f))[_0x4bba76(0x104)]['trim']();if(!_0xb761f2||!_0x443396)return toast(_0x4bba76(0x10f));currentGameId=_0xb761f2,currentPlayerName=_0x443396;const _0x1c1f2e=doc(db,_0x4bba76(0x133)+appId+'/public/data/games',currentGameId);try{await runTransaction(db,async _0x3a965c=>{const _0x7b201e=_0x4bba76,_0x23fceb=await _0x3a965c[_0x7b201e(0x119)](_0x1c1f2e);if(!_0x23fceb[_0x7b201e(0x12a)]())throw new Error(_0x7b201e(0x15c));const _0x414bbe=_0x23fceb[_0x7b201e(0x138)]();if(_0x414bbe[_0x7b201e(0x16e)]!==_0x7b201e(0x12f))throw new Error(_0x7b201e(0xfd));let _0x4ecef2=_0x443396;_0x414bbe['players'][_0x4ecef2]&&(_0x4ecef2=''+_0x443396+rnd(0xa,0x63),toast(_0x7b201e(0x11b)+_0x4ecef2+_0x7b201e(0x172))),currentPlayerName=_0x4ecef2,_0x3a965c[_0x7b201e(0x11f)](_0x1c1f2e,{[_0x7b201e(0x158)+_0x4ecef2]:{'joined':!![]}});}),toast(_0x4bba76(0x113)),listenForGameUpdates(currentGameId);}catch(_0x396f13){console['error'](_0x4bba76(0x157),_0x396f13),toast(_0x396f13[_0x4bba76(0x153)]);}}function startPracticeMode(){const _0x26732a=_0x52499d;isPracticeMode=!![],isHost=![],currentPuzzleNumbers=randomSolvable(),resetLocalBoard(),showView(_0x26732a(0x106));}function listenForGameUpdates(_0x43a140){const _0x75a439=_0x52499d;if(unsubscribeGameListener)unsubscribeGameListener();const _0x37050b=doc(db,_0x75a439(0x133)+appId+_0x75a439(0x17e),_0x43a140);unsubscribeGameListener=onSnapshot(_0x37050b,_0x315b6f=>{const _0x505a3c=_0x75a439;if(!_0x315b6f[_0x505a3c(0x12a)]()){toast(_0x505a3c(0x14d));if(unsubscribeGameListener)unsubscribeGameListener();timerInterval&&(clearInterval(timerInterval),timerInterval=null);showView(_0x505a3c(0x1ac)),document[_0x505a3c(0x181)][_0x505a3c(0x127)][_0x505a3c(0x14a)]('player-view','admin-view');return;}const _0x2271ba=_0x315b6f[_0x505a3c(0x138)](),_0x58557c=_0x2271ba[_0x505a3c(0x16e)];if(!isHost&&previousGameStatus===_0x505a3c(0x118)&&_0x58557c==='lobby'){if(unsubscribeGameListener)unsubscribeGameListener();if(timerInterval)clearInterval(timerInterval);currentGameId=null,currentPlayerName=null,toast(_0x505a3c(0x1bf)),showView(_0x505a3c(0x1ac)),document[_0x505a3c(0x181)][_0x505a3c(0x127)]['remove'](_0x505a3c(0x171)),previousGameStatus=null;return;}previousGameStatus=_0x58557c;if(_0x58557c===_0x505a3c(0x12f))timerInterval&&(clearInterval(timerInterval),timerInterval=null),adminDisplayedPuzzleIndex=0x0,isHost?(showView(_0x505a3c(0x156)),renderLobbyPlayers(_0x2271ba['players'])):showView('player-wait');else{if(_0x58557c===_0x505a3c(0x14b)){if(_0x2271ba[_0x505a3c(0x13c)]&&_0x2271ba[_0x505a3c(0x13c)][_0x505a3c(0x165)]){const _0x4b991f=_0x2271ba[_0x505a3c(0x148)]||{},_0x57bfb9=Object['keys'](_0x4b991f)[_0x505a3c(0x176)],_0x25e978=Object[_0x505a3c(0x179)](_0x4b991f)['filter'](_0x5148c0=>_0x5148c0[_0x505a3c(0x190)]>=_0x2271ba[_0x505a3c(0x13c)][_0x505a3c(0x165)])[_0x505a3c(0x176)],_0x40a42f=_0x2271ba['gameMode'][_0x505a3c(0x16d)]||_0x505a3c(0x17d);let _0x32003a=![];if(_0x40a42f===_0x505a3c(0x17d)&&_0x25e978>0x0)_0x32003a=!![];else _0x40a42f===_0x505a3c(0x112)&&_0x57bfb9>0x0&&_0x25e978===_0x57bfb9&&(_0x32003a=!![]);if(_0x32003a){isHost&&forceEndGame();return;}}showView(_0x505a3c(0x106)),renderPlayingView(_0x2271ba);}else _0x58557c==='finished'&&(timerInterval&&(clearInterval(timerInterval),timerInterval=null),renderGameOverView(_0x2271ba));}});}function renderLobbyPlayers(_0x5b874f){const _0x2e9d0a=_0x52499d,_0x31e0aa=Object[_0x2e9d0a(0x1b8)](_0x5b874f||{}),_0x3fe54c=_0x31e0aa[_0x2e9d0a(0x176)];$('#lobby-player-count')['textContent']=_0x3fe54c,_0x3fe54c===0x0?lobbyPlayerNameList[_0x2e9d0a(0x1bc)]='<p\x20class=\x22text-gray-500\x20text-center\x20w-full\x22>ยังไม่มีใครเข้าร่วม...</p>':lobbyPlayerNameList['innerHTML']=_0x31e0aa[_0x2e9d0a(0x10a)](_0x2ac5c0=>_0x2e9d0a(0x163)+_0x2ac5c0+_0x2e9d0a(0x186))[_0x2e9d0a(0x142)]('');}function startOrUpdateTimer(_0x6f9c18){const _0x165f3e=_0x52499d;if(timerInterval)clearInterval(timerInterval);const _0x1b63dd=_0x6f9c18['gameMode']||gameSettings;if(_0x1b63dd[_0x165f3e(0x18e)]==='overall'){const _0x3e9699=_0x6f9c18[_0x165f3e(0x19e)][_0x165f3e(0x154)]();timerInterval=setInterval(()=>{const _0x11cde9=_0x165f3e,_0x3e3a5b=Math[_0x11cde9(0xfb)]((Date[_0x11cde9(0x17f)]()-_0x3e9699)/0x3e8),_0x3a2754=_0x1b63dd[_0x11cde9(0x116)]-_0x3e3a5b;if(_0x3a2754<=0x0){clearInterval(timerInterval),gameTimerEl[_0x11cde9(0x128)]=_0x11cde9(0x147);if(isHost)forceEndGame();}else{const _0x23a8d4=String(Math[_0x11cde9(0xfb)](_0x3a2754/0x3c))[_0x11cde9(0x11e)](0x2,'0'),_0x309024=String(_0x3a2754%0x3c)[_0x11cde9(0x11e)](0x2,'0');gameTimerEl[_0x11cde9(0x128)]=_0x11cde9(0x1b7)+_0x23a8d4+':'+_0x309024;}},0x1f4);}else{const _0xa7cf8b=isHost?Object[_0x165f3e(0x179)](_0x6f9c18[_0x165f3e(0x148)])['sort']((_0x30b5c3,_0x2a6d58)=>(_0x2a6d58[_0x165f3e(0x190)]||0x0)-(_0x30b5c3[_0x165f3e(0x190)]||0x0))[0x0]:_0x6f9c18[_0x165f3e(0x148)][currentPlayerName];if(!_0xa7cf8b||!_0xa7cf8b[_0x165f3e(0x152)]){gameTimerEl['textContent']=_0x165f3e(0x18c)+_0x1b63dd['timeLimit'];return;};const _0x2ebd4e=_0xa7cf8b[_0x165f3e(0x152)][_0x165f3e(0x154)]();timerInterval=setInterval(async()=>{const _0x21ec71=_0x165f3e,_0x13266c=Math[_0x21ec71(0xfb)]((Date[_0x21ec71(0x17f)]()-_0x2ebd4e)/0x3e8),_0x12aa67=_0x1b63dd[_0x21ec71(0x116)]-_0x13266c;if(_0x12aa67<=0x0){clearInterval(timerInterval),gameTimerEl[_0x21ec71(0x128)]=_0x21ec71(0x1c0);if(!isHost){toast(_0x21ec71(0x122));const _0x428e68=_0x6f9c18[_0x21ec71(0x148)][currentPlayerName],_0x126978=_0x428e68[_0x21ec71(0x190)]+0x1,_0x290b39={[_0x21ec71(0x158)+currentPlayerName+_0x21ec71(0x196)]:_0x126978};_0x126978<_0x1b63dd[_0x21ec71(0x165)]?_0x290b39[_0x21ec71(0x158)+currentPlayerName+_0x21ec71(0x11d)]=serverTimestamp():_0x290b39[_0x21ec71(0x158)+currentPlayerName+_0x21ec71(0x185)]=serverTimestamp(),await updateDoc(doc(db,'artifacts/'+appId+'/public/data/games',currentGameId),_0x290b39);}}else gameTimerEl[_0x21ec71(0x128)]=_0x21ec71(0x18c)+String(_0x12aa67)[_0x21ec71(0x11e)](0x2,'0');},0x1f4);}}function renderPlayingView(_0x460a16){const _0x5445fa=_0x52499d;document[_0x5445fa(0x181)][_0x5445fa(0x127)][_0x5445fa(0x12d)](_0x5445fa(0x14c),isHost),document[_0x5445fa(0x181)]['classList']['toggle'](_0x5445fa(0x171),!isHost),startOrUpdateTimer(_0x460a16),isHost?renderAdminGameView(_0x460a16):renderPlayerGameView(_0x460a16);}function _0x2a6e(_0x43da5f,_0x3e1906){const _0x130d6e=_0x130d();return _0x2a6e=function(_0x2a6ede,_0x395593){_0x2a6ede=_0x2a6ede-0xf1;let _0x5def80=_0x130d6e[_0x2a6ede];return _0x5def80;},_0x2a6e(_0x43da5f,_0x3e1906);}function renderAdminGameView(_0xd04853){const _0x220c2b=_0x52499d;hostControls[_0x220c2b(0x127)][_0x220c2b(0x14a)](_0x220c2b(0xf8)),toggleLeaderboardBtn['classList'][_0x220c2b(0x14a)](_0x220c2b(0xf8));const _0x488e81=_0xd04853[_0x220c2b(0x148)]||{},_0x213a6f=Object['entries'](_0x488e81)[_0x220c2b(0x145)]((_0x2c2441,_0x5f3d7c)=>(_0x5f3d7c[0x1][_0x220c2b(0x139)]||0x0)-(_0x2c2441[0x1][_0x220c2b(0x139)]||0x0));playerList[_0x220c2b(0x1bc)]=_0x213a6f[_0x220c2b(0x10a)](([_0x24677d,_0x4f33de])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22player-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22player-name\x22>'+_0x24677d+_0x220c2b(0x193)+(_0x4f33de['score']||0x0)+'\x20คะแนน\x20('+(_0x4f33de[_0x220c2b(0x190)]>=_0xd04853['gameMode']['numQuestions']?_0x220c2b(0x105):_0x220c2b(0x16f)+(_0x4f33de['currentPuzzle']+0x1))+_0x220c2b(0xf7))[_0x220c2b(0x142)]('');const _0x386ad4=_0xd04853[_0x220c2b(0x13c)]?.[_0x220c2b(0x18e)]||'overall';let _0x1def50=0x0;if(_0x386ad4===_0x220c2b(0x1ba)){const _0x59f2f1=Math['max'](0x0,...Object[_0x220c2b(0x179)](_0x488e81)[_0x220c2b(0x10a)](_0x45f35c=>_0x45f35c[_0x220c2b(0x190)]||0x0));_0x59f2f1>adminDisplayedPuzzleIndex&&(adminDisplayedPuzzleIndex=_0x59f2f1),_0x1def50=adminDisplayedPuzzleIndex;}else{const _0x549bd4=_0x213a6f[0x0];_0x549bd4&&(_0x1def50=_0x549bd4[0x1]['currentPuzzle']||0x0);}_0x1def50=Math['min'](_0x1def50,_0xd04853[_0x220c2b(0x13c)][_0x220c2b(0x165)]-0x1),puzzleProgressEl[_0x220c2b(0x128)]=_0x220c2b(0x103)+(_0x1def50+0x1)+'\x20/\x20'+_0xd04853['gameMode'][_0x220c2b(0x165)],puzzleProgressEl[_0x220c2b(0x127)][_0x220c2b(0x14a)](_0x220c2b(0xf8));const _0x1e23f0=JSON[_0x220c2b(0x12e)](_0xd04853[_0x220c2b(0x1b5)]),_0x344e32=_0x1e23f0[_0x1def50];gameBoard[_0x220c2b(0x127)][_0x220c2b(0x14a)]('hidden'),playerFinishedView[_0x220c2b(0x127)][_0x220c2b(0x13e)]('hidden'),grid[_0x220c2b(0x1bc)]=_0x344e32[_0x220c2b(0x10a)](_0x1400a2=>_0x220c2b(0xf3)+_0x1400a2+_0x220c2b(0x186))[_0x220c2b(0x142)](''),$$('.op')[_0x220c2b(0x11a)](_0x39ccf4=>_0x39ccf4[_0x220c2b(0x127)][_0x220c2b(0x13e)]('opacity-50','cursor-not-allowed')),$('#reset-btn')[_0x220c2b(0x127)][_0x220c2b(0x13e)](_0x220c2b(0xf8)),$(_0x220c2b(0x14e))[_0x220c2b(0x127)][_0x220c2b(0x13e)](_0x220c2b(0xf8));}function renderPlayerGameView(_0x28b42f){const _0x36ac9c=_0x52499d,_0x379bf5=_0x28b42f[_0x36ac9c(0x148)][currentPlayerName];if(!_0x379bf5)return;playerScoreDisplay[_0x36ac9c(0x128)]=_0x36ac9c(0x155)+(_0x379bf5[_0x36ac9c(0x139)]||0x0),playerScoreDisplay['classList'][_0x36ac9c(0x14a)](_0x36ac9c(0xf8));const _0x51470e=_0x28b42f[_0x36ac9c(0x13c)]?.[_0x36ac9c(0x16d)]||_0x36ac9c(0x17d);if(_0x379bf5[_0x36ac9c(0x190)]>=_0x28b42f[_0x36ac9c(0x13c)][_0x36ac9c(0x165)])_0x51470e==='wait'?(gameBoard['classList'][_0x36ac9c(0x13e)](_0x36ac9c(0xf8)),playerFinishedView['classList'][_0x36ac9c(0x14a)](_0x36ac9c(0xf8))):(gameBoard[_0x36ac9c(0x127)][_0x36ac9c(0x13e)](_0x36ac9c(0xf8)),playerFinishedView['classList'][_0x36ac9c(0x14a)](_0x36ac9c(0xf8)),$(_0x36ac9c(0x131))['textContent']=_0x36ac9c(0x168),$(_0x36ac9c(0x1bd))[_0x36ac9c(0x128)]=_0x36ac9c(0x173));else{gameBoard['classList'][_0x36ac9c(0x14a)](_0x36ac9c(0xf8)),playerFinishedView[_0x36ac9c(0x127)]['add']('hidden'),puzzleProgressEl['textContent']=_0x36ac9c(0x16f)+(_0x379bf5[_0x36ac9c(0x190)]+0x1)+'\x20/\x20'+_0x28b42f[_0x36ac9c(0x13c)][_0x36ac9c(0x165)],puzzleProgressEl[_0x36ac9c(0x127)][_0x36ac9c(0x14a)](_0x36ac9c(0xf8));const _0x42dc53=JSON['parse'](_0x28b42f[_0x36ac9c(0x1b5)]),_0x1cb3fa=_0x42dc53[_0x379bf5[_0x36ac9c(0x190)]];JSON[_0x36ac9c(0x17a)](currentPuzzleNumbers)!==JSON['stringify'](_0x1cb3fa)&&(currentPuzzleNumbers=[..._0x1cb3fa],resetLocalBoard());}}function renderGameOverView(_0x1329e1){const _0x1f546d=_0x52499d,_0x4f71a5=_0x1329e1[_0x1f546d(0x148)]||{},_0x3e1acf=Object['entries'](_0x4f71a5)[_0x1f546d(0x145)](([,_0x5451bf],[,_0x517a9b])=>{const _0x4c9491=_0x1f546d;if(_0x5451bf[_0x4c9491(0x139)]!==_0x517a9b[_0x4c9491(0x139)])return(_0x517a9b[_0x4c9491(0x139)]||0x0)-(_0x5451bf[_0x4c9491(0x139)]||0x0);if(_0x517a9b[_0x4c9491(0x140)]&&_0x5451bf['finishTime'])return _0x5451bf[_0x4c9491(0x140)][_0x4c9491(0x154)]()-_0x517a9b['finishTime'][_0x4c9491(0x154)]();if(_0x517a9b[_0x4c9491(0x140)])return-0x1;if(_0x5451bf[_0x4c9491(0x140)])return 0x1;return 0x0;});podiumContainer['innerHTML']='',otherRankingsList['innerHTML']='';const _0x5b91c0=_0x3e1acf[_0x1f546d(0x120)](0x0,0x3),_0x3eb2f7=_0x3e1acf[_0x1f546d(0x120)](0x3);_0x5b91c0[_0x1f546d(0x11a)](([_0x20b98d,_0x3c4bbf],_0x2fa8b2)=>{const _0x815323=_0x1f546d,_0x32e4ed=_0x2fa8b2+0x1,_0x1b22a7=document[_0x815323(0x110)](_0x815323(0x13b));_0x1b22a7['className']=_0x815323(0x184)+_0x32e4ed,_0x1b22a7[_0x815323(0x1bc)]=_0x815323(0x100)+(_0x32e4ed===0x1?'<i\x20class=\x22fas\x20fa-crown\x22></i>':'')+_0x815323(0x167)+_0x20b98d+_0x815323(0x10b)+(_0x3c4bbf[_0x815323(0x139)]||0x0)+_0x815323(0x150)+_0x32e4ed+_0x815323(0x126),podiumContainer['appendChild'](_0x1b22a7);});for(let _0x34d2ed=_0x3e1acf[_0x1f546d(0x176)];_0x34d2ed<0x3;_0x34d2ed++){const _0x3ec247=_0x34d2ed+0x1,_0x562d58=document['createElement'](_0x1f546d(0x13b));_0x562d58[_0x1f546d(0x1b4)]=_0x1f546d(0x184)+_0x3ec247,podiumContainer[_0x1f546d(0x18b)](_0x562d58);}_0x3eb2f7['length']>0x0?(otherRankingsContainer['classList'][_0x1f546d(0x14a)](_0x1f546d(0xf8)),otherRankingsList[_0x1f546d(0x1bc)]=_0x3eb2f7[_0x1f546d(0x10a)](([_0xfbfaf0,_0x5117a9],_0x2e875d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+(_0x2e875d+0x4)+'.\x20'+_0xfbfaf0+_0x1f546d(0xff)+(_0x5117a9['score']||0x0)+_0x1f546d(0x19a))['join']('')):otherRankingsContainer[_0x1f546d(0x127)][_0x1f546d(0x13e)](_0x1f546d(0xf8)),isHost?$(_0x1f546d(0xf4))[_0x1f546d(0x127)][_0x1f546d(0x14a)](_0x1f546d(0xf8)):$(_0x1f546d(0xf4))[_0x1f546d(0x127)][_0x1f546d(0x13e)]('hidden'),showView(_0x1f546d(0x187));}function renderLocalGrid(){const _0x1d4b1f=_0x52499d;grid['innerHTML']='';firstIndex!==null?grid['classList'][_0x1d4b1f(0x13e)]('number-selected'):grid[_0x1d4b1f(0x127)][_0x1d4b1f(0x14a)](_0x1d4b1f(0x137));for(let _0x3ddc49=0x0;_0x3ddc49<0x4;_0x3ddc49++){const _0x1fbfd2=localBoard[_0x3ddc49],_0x50f54b=document[_0x1d4b1f(0x110)](_0x1d4b1f(0x13b));_0x1fbfd2===null?_0x50f54b[_0x1d4b1f(0x1b4)]='slot\x20empty':(_0x50f54b['className']=_0x1d4b1f(0x132)+(_0x3ddc49===firstIndex?_0x1d4b1f(0x1a5):''),_0x50f54b['innerHTML']=fmt(_0x1fbfd2),_0x50f54b[_0x1d4b1f(0x161)](_0x1d4b1f(0x1a0),()=>handleTileClick(_0x3ddc49))),grid['appendChild'](_0x50f54b);}$$(_0x1d4b1f(0x1b0))[_0x1d4b1f(0x11a)](_0x10b710=>_0x10b710[_0x1d4b1f(0x127)]['toggle'](_0x1d4b1f(0x18a),_0x10b710['dataset']['op']===selectedOp));}function resetLocalBoard(){const _0x3879e6=_0x52499d;localBoard=currentPuzzleNumbers[_0x3879e6(0x10a)](_0x30cfc0=>({'n':_0x30cfc0,'d':0x1})),firstIndex=null,selectedOp=null,renderLocalGrid();}async function handleTileClick(_0x3e805c){const _0x2f7d0b=_0x52499d;if(localBoard[_0x3e805c]===null)return;if(firstIndex===_0x3e805c){firstIndex=null,renderLocalGrid();return;}if(firstIndex===null||selectedOp===null){firstIndex=_0x3e805c,renderLocalGrid();return;}const _0x4b31fc=localBoard[firstIndex],_0x14820a=localBoard[_0x3e805c];let _0x4dcb28,_0x4ffa68,_0x1ce50f;if(selectedOp==='+')_0x4ffa68=_0x4b31fc['n']*_0x14820a['d']+_0x14820a['n']*_0x4b31fc['d'],_0x1ce50f=_0x4b31fc['d']*_0x14820a['d'];else{if(selectedOp==='-')_0x4ffa68=_0x4b31fc['n']*_0x14820a['d']-_0x14820a['n']*_0x4b31fc['d'],_0x1ce50f=_0x4b31fc['d']*_0x14820a['d'];else{if(selectedOp==='*')_0x4ffa68=_0x4b31fc['n']*_0x14820a['n'],_0x1ce50f=_0x4b31fc['d']*_0x14820a['d'];else{if(selectedOp==='/'){if(_0x14820a['n']===0x0){toast(_0x2f7d0b(0x134));return;}_0x4ffa68=_0x4b31fc['n']*_0x14820a['d'],_0x1ce50f=_0x4b31fc['d']*_0x14820a['n'];}}}}_0x1ce50f<0x0&&(_0x1ce50f=-_0x1ce50f,_0x4ffa68=-_0x4ffa68);const _0x3fb2c7=gcd(Math[_0x2f7d0b(0x166)](_0x4ffa68),Math[_0x2f7d0b(0x166)](_0x1ce50f));_0x4dcb28={'n':_0x4ffa68/_0x3fb2c7,'d':_0x1ce50f/_0x3fb2c7},localBoard[_0x3e805c]=_0x4dcb28,localBoard[firstIndex]=null,firstIndex=_0x3e805c,selectedOp=null,renderLocalGrid();const _0x26ac8a=localBoard[_0x2f7d0b(0x170)](_0x5de89f=>_0x5de89f!==null);if(_0x26ac8a[_0x2f7d0b(0x176)]===0x1){const _0x14db29=_0x26ac8a[0x0];if(_0x14db29['d']===0x1&&_0x14db29['n']===0x18){if(isPracticeMode){toast(_0x2f7d0b(0x175)),setTimeout(()=>{currentPuzzleNumbers=randomSolvable(),resetLocalBoard();},0x4b0);return;}const _0x49b051=doc(db,_0x2f7d0b(0x133)+appId+_0x2f7d0b(0x17e),currentGameId);try{await runTransaction(db,async _0x5460f0=>{const _0x64f448=_0x2f7d0b,_0x28ec40=await _0x5460f0['get'](_0x49b051);if(!_0x28ec40[_0x64f448(0x12a)]()||_0x28ec40[_0x64f448(0x138)]()[_0x64f448(0x16e)]!==_0x64f448(0x14b))return;const _0x3124dc=_0x28ec40[_0x64f448(0x138)](),_0x2eb7b4=_0x3124dc['players'][currentPlayerName],_0x1c5ee9=_0x3124dc[_0x64f448(0x13c)]||{'scoringMode':_0x64f448(0x108),'timerMode':_0x64f448(0x1ba)};let _0x1e10b5=0x0;if(_0x1c5ee9[_0x64f448(0x114)]==='fixed')_0x1e10b5=0x64;else{if(_0x1c5ee9[_0x64f448(0x18e)]===_0x64f448(0x1ba)){const _0x2b4092=_0x3124dc[_0x64f448(0x19e)][_0x64f448(0x154)](),_0x545000=Math[_0x64f448(0xfb)]((Date[_0x64f448(0x17f)]()-_0x2b4092)/0x3e8);_0x1e10b5=0x64+Math[_0x64f448(0x16a)](0x0,_0x1c5ee9[_0x64f448(0x116)]-_0x545000);}else{const _0x5eda68=_0x2eb7b4[_0x64f448(0x152)]['toMillis'](),_0x26fb82=Math[_0x64f448(0xfb)]((Date['now']()-_0x5eda68)/0x3e8);_0x1e10b5=0x64+Math['max'](0x0,_0x1c5ee9[_0x64f448(0x116)]-_0x26fb82);}}const _0x619c05=_0x2eb7b4[_0x64f448(0x190)]+0x1,_0x40e2a6={[_0x64f448(0x158)+currentPlayerName+_0x64f448(0x196)]:_0x619c05,[_0x64f448(0x158)+currentPlayerName+'.score']:increment(_0x1e10b5)};_0x619c05<_0x1c5ee9[_0x64f448(0x165)]?_0x40e2a6[_0x64f448(0x158)+currentPlayerName+_0x64f448(0x11d)]=serverTimestamp():_0x40e2a6['players.'+currentPlayerName+_0x64f448(0x185)]=serverTimestamp(),_0x5460f0[_0x64f448(0x11f)](_0x49b051,_0x40e2a6);});}catch(_0x42471d){console['error'](_0x2f7d0b(0x136),_0x42471d);}}else toast('ลองอีกครั้ง!'),setTimeout(()=>{resetLocalBoard();},0x5dc);}}$(_0x52499d(0x129))[_0x52499d(0x161)](_0x52499d(0x1a0),()=>showView(_0x52499d(0x1bb))),$(_0x52499d(0x1a8))[_0x52499d(0x161)]('click',()=>showView(_0x52499d(0x1ac))),$(_0x52499d(0x1a4))['addEventListener'](_0x52499d(0x1a0),async()=>{const _0x185c18=_0x52499d;$(_0x185c18(0x1af))[_0x185c18(0x104)]===_0x185c18(0x19b)?(isHost=!![],await createGameRoom()):toast(_0x185c18(0x1ae));}),$(_0x52499d(0x10e))[_0x52499d(0x161)](_0x52499d(0x1a0),handleJoinGame),$('#start-practice-btn')[_0x52499d(0x161)](_0x52499d(0x1a0),startPracticeMode),$(_0x52499d(0x19d))[_0x52499d(0x161)](_0x52499d(0x1a0),()=>{const _0x54d81f=_0x52499d;adminSettingsModal[_0x54d81f(0x127)][_0x54d81f(0x14a)]('hidden');}),$('#cancel-settings-btn')[_0x52499d(0x161)](_0x52499d(0x1a0),()=>{const _0x406583=_0x52499d;adminSettingsModal[_0x406583(0x127)][_0x406583(0x13e)](_0x406583(0xf8));}),$(_0x52499d(0xf6))[_0x52499d(0x161)](_0x52499d(0x1a0),handleStartGame),$(_0x52499d(0x1ab))[_0x52499d(0x161)](_0x52499d(0x1a0),forceEndGame),$(_0x52499d(0xf4))['addEventListener']('click',returnToLobby),$(_0x52499d(0x14e))[_0x52499d(0x161)]('click',()=>{const _0x4b6c33=_0x52499d;isPracticeMode=![];if(unsubscribeGameListener)unsubscribeGameListener();if(timerInterval)clearInterval(timerInterval);currentGameId=null,currentPlayerName=null,showView(_0x4b6c33(0x1ac));}),$(_0x52499d(0x183))[_0x52499d(0x161)](_0x52499d(0x1a0),resetLocalBoard),$$('.op')[_0x52499d(0x11a)](_0x251c06=>_0x251c06['addEventListener'](_0x52499d(0x1a0),()=>{const _0x5dab72=_0x52499d,_0x1eea19=_0x251c06[_0x5dab72(0x1aa)]['op'];if(selectedOp===_0x1eea19)selectedOp=null;else{if(firstIndex===null){toast(_0x5dab72(0x1a3));return;}selectedOp=_0x1eea19;}renderLocalGrid();})),toggleLeaderboardBtn[_0x52499d(0x161)](_0x52499d(0x1a0),()=>{const _0x49aa3f=_0x52499d,_0x25166e=document['querySelector']('.leaderboard');_0x25166e[_0x49aa3f(0x127)][_0x49aa3f(0x12d)](_0x49aa3f(0x146));const _0x564698=toggleLeaderboardBtn[_0x49aa3f(0x10c)]('i');_0x25166e[_0x49aa3f(0x127)][_0x49aa3f(0x174)](_0x49aa3f(0x146))?_0x564698[_0x49aa3f(0x1b4)]=_0x49aa3f(0x19c):_0x564698[_0x49aa3f(0x1b4)]=_0x49aa3f(0x1ad);}),window[_0x52499d(0x161)](_0x52499d(0xf5),()=>{const _0xd08453=_0x52499d;if(isHost&&currentGameId){const _0x5700e2=doc(db,_0xd08453(0x133)+appId+_0xd08453(0x17e),currentGameId);deleteDoc(_0x5700e2);}}),initialize(),showView(_0x52499d(0x1ac));
